import{d as N,r as i,l as h,m as M,o as L,c as P,w as m,u as e,e as s,f as v,t as f,n as g,B as E,b as d,_ as $}from"./index-BtQ9Oy6z.js";import"./index-Ce2Tcrdf.js";import{l as A}from"./loadBMapGl-Dvy9can6.js";import{P as O}from"./index.vue_vue_type_style_index_0_scoped_3c63ca2e_lang-63-H3oCd.js";import{N as F}from"./InputNumber-BzDOl_FX.js";import{b as y}from"./route-block-B_A1xBdJ.js";import"./commonjsHelpers-CE1G-McA.js";import"./Add-Bj50YL7-.js";const G={class:"box"},I={class:"opt"},S={class:"flex-star"},T={class:"result"},V={style:{margin:"10px 0"}},Z={key:0},j={key:1},b=N({__name:"get_lon_lat",setup(D){const u=i(),n=i(),c=i("102.85076697175514,24.89248383034783"),p=i([]),l=i(7),k=h(()=>{if(e(l)>0){const[t,a]=e(c).split(",");return`${Number(t).toFixed(e(l))},${Number(a).toFixed(e(l))}`}else return e(c)}),{copy:w,copied:x}=M({source:k});L(async()=>{await B()});async function B(){const t=await A();n.value=new t.Map(u.value),n.value.centerAndZoom(new t.Point(102.85076697175514,24.89248383034783),18),n.value.enableScrollWheelZoom(!0),n.value.addControl(new t.CityListControl({anchor:BMAP_ANCHOR_TOP_LEFT}));const a=new t.Geocoder;n.value.addEventListener("click",o=>{c.value=`${o.latlng.lng},${o.latlng.lat}`,n.value.clearOverlays(),n.value.addOverlay(new t.Marker(new t.Point(o.latlng.lng,o.latlng.lat))),a.getLocation(o.latlng,_=>{console.log(_);const r=_.addressComponents;p.value=[r.province,r.city,r.district,r.street,r.streetNumber].filter(C=>C)})})}return(t,a)=>(d(),P(e(O),{title:"拾取经纬度"},{default:m(()=>[s("div",G,[s("div",{id:"container",class:"container",ref_key:"mapEle",ref:u},null,512),s("div",I,[s("div",S,[s("div",T,f(c.value),1),v(e(F),{placeholder:"复制小数点后多少位",value:l.value,"onUpdate:value":a[0]||(a[0]=o=>l.value=o)},null,8,["value"])]),s("div",V,[v(e(E),{type:"primary",onClick:a[1]||(a[1]=o=>e(w)())},{default:m(()=>[e(x)?(d(),g("span",j,"已复制")):(d(),g("span",Z,"复制当前经纬度"))]),_:1})]),s("div",null,f(p.value.join("")),1)])])]),_:1}))}});typeof y=="function"&&y(b);const Q=$(b,[["__scopeId","data-v-0aa8a01f"]]);export{Q as default};
