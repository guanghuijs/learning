import{m as S}from"./mock-Ch6N_ee5.js";import{d as T,h as A,r as y,p as R,o as B,n as N,e as b,t as _,f as g,w,u as p,g as d,F as O,b as $,B as k,_ as q}from"./index-BtQ9Oy6z.js";import{u as E}from"./index-Ce2Tcrdf.js";import{N as V}from"./Select-BDH0XgWH.js";import{b as I}from"./route-block-B_A1xBdJ.js";import"./commonjsHelpers-CE1G-McA.js";function h(i="#ff0000",e=1){return i=i.slice(1),`rgba(${parseInt(i.slice(0,2),16)},${parseInt(i.slice(2,4),16)},${parseInt(i.slice(4,6),16)},${e*.01})`}const D={bubble:function(i,e,c,r=()=>{}){const s=e.length;let f=setInterval(()=>{x(e)&&(clearInterval(f),r());for(let t=0;t<s;t++)for(let n=0;n<s-t-1;n++)if(e[n]>e[n+1]){let o=e[n];e[n]=e[n+1],e[n+1]=o,v(i,c,e);return}},400)},selection:function(i,e,c,r=()=>{}){const s=e.length;let f=setInterval(async()=>{x(e)&&(clearInterval(f),r());for(let t=0;t<s-1;t++){let n=t;for(let o=t+1;o<s;o++)e[o]<e[n]&&(n=o);if(t!==n){let o=e[t];e[t]=e[n],e[n]=o,await i.setOption({series:{type:"bar",label:{show:!0},data:e,itemStyle:{color:function(l){return h(c,l.value)}}}});return}}},400)},insertion:function(i,e,c,r=()=>{}){let s=0;f();function f(){if(x(e)&&r(),s<e.length-1){let t=e[s+1],n=s+1;for(;n>0&&e[n-1]>t;)e[n]=e[n-1],n--;e[n]=t,v(i,c,e),s++,setTimeout(f,400)}}},quick:function(i,e,c,r=()=>{}){s(e,0,e.length-1);function s(t,n,o){if(n<o){const l=f(t,n,o);n<l-1&&setTimeout(function(){s(t,n,l-1)},1e3),l+1<o&&setTimeout(function(){s(t,l+1,o)},400)}}function f(t,n,o){for(var l=t[o],u=n-1,a=n;a<o;a++)if(t[a]<=l){u++;var m=t[u];t[u]=t[a],t[a]=m,v(i,c,t)}var m=t[u+1];return t[u+1]=t[o],t[o]=m,v(i,c,t),u+1}},merge:function(i,e,c,r=()=>{}){s(e);function s(t){if(t.length<=1)return t;var n=Math.floor(t.length/2),o=t.slice(0,n),l=t.slice(n);return f(s(o),s(l))}function f(t,n){const o=[];let l=0,u=0;for(;l<t.length&&u<n.length;)t[l]<n[u]?(o.push(t[l]),l++):(o.push(n[u]),u++),setTimeout(function(){l<t.length?(o.push(t[l]),l++):(o.push(n[u]),u++),v(i,c,o)},1e3);return o.concat(t.slice(l)).concat(n.slice(u))}},counting:function(i,e,c,r=()=>{}){s(e,e.length);function s(f,t){let n=Array(t+1).fill(0);for(let l=0;l<f.length;l++)n[f[l]]++;let o=0;for(let l=0;l<=t;l++)for(;n[l]>0;)f[o++]=l,setTimeout(()=>{v(i,c,f)},400),n[l]--;return f}}};function x(i){for(let e=0;e<i.length-1;e++)if(i[e]>i[e+1])return!1;return!0}function v(i,e,c){i.setOption({series:{type:"bar",label:{show:!0},data:c,itemStyle:{color:function(r){return h(e,r.value)}}}})}const F={class:"flex-between"},L={class:"flex-star",style:{padding:"10px 0"}},C=T({__name:"sort",setup(i){const{primaryColor:e}=A(),c=y("bubble");R(e,u=>{s.setOption(l(p(r)))});const r=y(Array.from({length:20},()=>S.Random.integer(0,100)));let s;const f=y();B(()=>{s=E(f.value,{grid:{top:0,right:0,bottom:0,left:0},xAxis:{data:Array.from({length:20},(u,a)=>a)},yAxis:{splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:{type:"bar",data:r.value,label:{show:!0},itemStyle:{color:function(u){return h(e.value,u.value)}}}})});const t=()=>{r.value=Array.from({length:20},()=>S.Random.integer(0,100)),s.setOption(l(p(r)))},n=()=>{s.setOption(l(p(r)))},o=()=>{D[c.value](s,[...r.value],e.value,()=>{console.log("排序完成")})},l=u=>({series:{type:"bar",data:[...u],itemStyle:{color:function(a){return h(e.value,a.value)}}}});return(u,a)=>($(),N(O,null,[b("div",null,"原数组:"+_(r.value),1),b("div",F,[g(p(k),{onClick:t},{default:w(()=>[...a[1]||(a[1]=[d("数据重置",-1)])]),_:1}),g(p(k),{onClick:n},{default:w(()=>[...a[2]||(a[2]=[d("图表重置",-1)])]),_:1}),b("div",L,[a[3]||(a[3]=d(" 选择排序方式:",-1)),g(p(V),{placeholder:"选则排序方式",value:c.value,"onUpdate:value":a[0]||(a[0]=m=>c.value=m),options:[{label:"冒泡",value:"bubble"},{label:"选择",value:"selection"},{label:"插入",value:"insertion"},{label:"快速",value:"quick"},{label:"归并",value:"merge"},{label:"计数",value:"counting"}],style:{width:"200px"}},null,8,["value"]),d(" "+_(c.value),1)]),g(p(k),{onClick:o},{default:w(()=>[...a[4]||(a[4]=[d("开始排序",-1)])]),_:1})]),b("div",{ref_key:"helloChartRef",ref:f,class:"chart"},null,512)],64))}});typeof I=="function"&&I(C);const K=q(C,[["__scopeId","data-v-839b7292"]]);export{K as default};
