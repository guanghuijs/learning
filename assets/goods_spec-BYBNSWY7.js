import{d as j,h as F,r as m,l as V,c as z,w as A,u as c,b as a,e as o,t as l,n as u,s as h,F as y,aY as D,i as L,_ as M}from"./index-BtQ9Oy6z.js";import{P as R}from"./index.vue_vue_type_style_index_0_scoped_3c63ca2e_lang-63-H3oCd.js";import{g as S}from"./data-CaihkWLQ.js";import{b}from"./route-block-B_A1xBdJ.js";import"./mock-Ch6N_ee5.js";import"./commonjsHelpers-CE1G-McA.js";const Y={class:"goods-spec"},$={class:"spec-top flex-between"},q={class:"spec-top-left"},x={class:"goods-base-info"},G={class:"specific"},H={class:"spec-item-tag"},J=["onClick"],C=j({__name:"goods_spec",setup(K){L(t=>({v4459e1bc:c(w)}));const{primaryColor:w}=F(),n=m(S().specific),f=S().goodsSpec,r=m([]),p=m([]),B=(t,s,i,e)=>{e&&(c(r)[s]!=t?(r.value[s]=t,p.value[s]=i):(r.value[s]="",p.value[s]=-1),P())},P=()=>{const t=[];for(const s in c(n))t[s]=c(r)[s]?c(r)[s]:"";for(const s in c(n)){const i=t[s];for(const e in c(n)[s].items)t[s]=c(n)[s].items[e].name,n.value[s].items[e].isToggle=E(t);t[s]=i}},E=t=>{for(const s in t)if(t[s]==="")return!0;for(const s in f)if(f[s].difference===t.join(";"))return!0},d=V(()=>{const t=c(r).filter(e=>e).join(";");let s=0,i=0;try{f.forEach(e=>{if(e.difference===t)throw s=e.stock,i=e.price,new Error;s=0,i=0})}catch(e){console.log(e)}return{specString:t,result:{stock:s,price:i}}});return(t,s)=>(a(),z(c(R),{title:"商品规格选择"},{default:A(()=>[o("div",Y,[o("div",$,[o("div",q,[s[0]||(s[0]=o("img",null,null,-1)),o("div",x,[o("div",null,"￥"+l(d.value.result.price),1),o("p",null,"库存:"+l(d.value.result.stock),1),o("span",null,l(d.value.specString),1)])])]),o("div",G,[(a(!0),u(y,null,h(n.value,({name:i,items:e},_)=>(a(),u("div",{class:"spec-item",key:_},[o("p",null,l(i),1),o("div",H,[(a(!0),u(y,null,h(e,({name:v,isToggle:g},k)=>(a(),u("span",{key:v,class:D([g?"":"noProduct",p.value[_]===k?"active":""]),onClick:N=>B(v,_,k,g)},l(v),11,J))),128))])]))),128))])])]),_:1}))}});typeof b=="function"&&b(C);const Z=M(C,[["__scopeId","data-v-8f120d24"]]);export{Z as default};
