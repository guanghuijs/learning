import{P as y}from"./index.vue_vue_type_style_index_0_scoped_3c63ca2e_lang-63-H3oCd.js";import{d as N,b3 as k,m as I,o as h,c as B,w as s,u as e,b as C,e as u,f as o,N as p,g as i,B as m,t as R,_ as F}from"./index-BtQ9Oy6z.js";import{N as D,a as n,b as L}from"./Grid-BhqnZwpt.js";import{N as V}from"./Upload-DVOBOFO5.js";import{b as c}from"./route-block-B_A1xBdJ.js";import"./Add-Bj50YL7-.js";const A=["src"],E=["src"],f=N({__name:"img_base64",setup(G){function g(r,a){const t=new Image;t.crossOrigin="Anonymous",t.onload=function(){let d=document.createElement("canvas");const w=d.getContext("2d");d.width=t.width,d.height=t.height,w.drawImage(t,0,0);const x=d.toDataURL("image/png");a(x),d=null},t.onerror=function(){a(null)},t.src=r}const l=k({url:"https://sponsors.vuejs.org/images/likeshop.svg",dataUrl:""}),{copied:_,copy:b}=I({source:l.dataUrl});h(()=>{g(l.url,r=>{l.dataUrl=r})});const v=r=>{const a=new FileReader;a.onload=function(t){l.dataUrl=t.target.result},a.readAsDataURL(r.file.file)},U=()=>{let r=document.createElement("a");r.href=l.dataUrl,r.download="image.png",r.click(),r=null};return(r,a)=>(C(),B(e(y),{title:"图片base64转换"},{default:s(()=>[u("img",{class:"img",src:l.url,alt:""},null,8,A),o(e(L),{ref:"formRef","label-width":80,model:l,size:"small"},{default:s(()=>[o(e(D),{cols:24,"x-gap":24},{default:s(()=>[o(e(n),{span:24,label:"输入图片网址"},{default:s(()=>[o(e(p),{type:"textarea",value:l.url,"onUpdate:value":a[0]||(a[0]=t=>l.url=t),placeholder:"输入文字或者网址"},null,8,["value"])]),_:1}),o(e(n),{span:24,label:"上传图片"},{default:s(()=>[o(e(V),{"list-type":"image-card",max:1,"on-before-upload":v},{default:s(()=>[...a[3]||(a[3]=[i(" 点击上传 ",-1)])]),_:1})]),_:1}),o(e(n),{span:24,label:"二维码内容"},{default:s(()=>[o(e(p),{type:"textarea",value:l.dataUrl,"onUpdate:value":a[1]||(a[1]=t=>l.dataUrl=t),placeholder:"输入文字或者网址"},null,8,["value"])]),_:1}),o(e(n),{span:24,label:"base64预览"},{default:s(()=>[u("img",{class:"preview",src:l.dataUrl,alt:""},null,8,E)]),_:1}),o(e(n),{span:24},{default:s(()=>[o(e(m),{onClick:U,type:"primary",block:""},{default:s(()=>[...a[4]||(a[4]=[i("下载",-1)])]),_:1})]),_:1}),o(e(n),{span:24},{default:s(()=>[o(e(m),{onClick:a[2]||(a[2]=t=>e(b)(l.dataUrl)),type:"primary",block:""},{default:s(()=>[i(R(e(_)?"已复制":"复制图片base64编码"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}))}});typeof c=="function"&&c(f);const O=F(f,[["__scopeId","data-v-d86a8779"]]);export{O as default};
